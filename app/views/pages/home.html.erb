<div class="sean-navbar shared-navbar">
  <div class="navbar-inner">
    <div class="navbar-link">
      <a class="navbar-link-text" href="#details">
        THE DETAILS
      </a>
    </div>
    <div class="navbar-link">
      <a class="navbar-link-text" href="#directions">
        GETTING THERE
      </a>
    </div>
    <a class="navbar-link-text large-navbar-link" href="#top">
      Sean & Laura
    </a>
    <div class="navbar-link">
      <a class="navbar-link-text" href="#accomodation">
        ACCOMODATION
      </a>
    </div>
    <div class="navbar-link">
      <%= link_to "RSVP", new_response_path, class: "navbar-link-text" %>
    </div>
  </div>
</div>
<div id="top"></div>
<div class="parallax">
  <div class="burger-menu">
    <i class="fas fa-bars"></i>
  </div>
  <div id="dropdown" class="d-none">
    <i class="fas fa-times" id="close-btn"></i>
    <%= link_to "THE DETAILS", root_path, class: "dropdown-option navbar-link-text" %>
    <div class="divider"></div>
    <%= link_to "GETTING THERE", root_path, class: "dropdown-option navbar-link-text" %>
    <div class="divider"></div>
    <%= link_to "ACCOMODATION", root_path, class: "dropdown-option navbar-link-text" %>
    <div class="divider"></div>
    <%= link_to "RSVP", new_response_path, class: "dropdown-option navbar-link-text" %>
  </div>
</div>
<div class="landing-section">
  <p class="gold">Together with their families</p>
  <h1 class="gold garamond xl-text">Sean & Laura</h1>
  <p class="gold text-center">joyfully invite you to their <br> wedding celebration</p>
  <div class="vertical-line"></div>
  <h2 class="gold garamond large-text">May 22, 2021</h2>
  <p class="gold">At Virginia Park Lodge</p>
  <a class="gold-button" href="#details">More details</a>
</div>
<div class="home-section" id="details">
  <%= image_tag "eucalyptus3.png", alt: "Eucalyptus leaves", class: "eucalyptus leaves-top-right" %>
  <%= image_tag "eucalyptus.png", alt: "Eucalyptus leaves", class: "eucalyptus leaves-bottom-left" %>
  <h2 class="large-text garamond gold text-center pt-5 pb-3">Details</h2>
  <div class="details">
    <%= render "shared/details" %>
  </div>
  <%= link_to "RSVP", new_response_path, class: "gold-button mx-auto my-5"  %>
</div>
<div class="home-directions" id="directions">
  <h2 class="large-text garamond white text-center pt-5">Getting There</h2>
  <div class="vertical-line white-line mx-auto my-5"></div>
  <div id="map"
       data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
       ></div>
  <div class="d-flex justify-content-between mx-auto mt-5 detail-holder">
    <div class="detail-para">
      <p class="white bold">Coming From Dublin</p>
      <p class="white">We recommend taking the N3/M3 out of Dublin. Hang left at the fork when you arrive in Virginia and the wedding venue will be the second left after the Pergola Nurseries garden centre. </p>
    </div>
    <div class="detail-para">
      <p class="white bold">Coming From Wexford</p>
      <p class="white">The fastest route from Wexford is to take the M11 up to Dublin then follow the M50 until the M3 turnoff at Junction 6. Hang left at the fork when you arrive in Virginia and the wedding venue will be the second left after the Pergola Nurseries garden centre.</p>
    </div>
  </div>
</div>
<div class="home-section" id="accomodation">
  <h2 class="large-text garamond gold text-center pt-5">Accomodation</h2>
  <div class="vertical-line mx-auto my-5"></div>
  <p class="gold text-center">For those of you wanting to stay nearby, here are our recommendations.</p>
  <div class="d-flex justify-content-around mt-5 mx-auto accomodation-holder">
    <div class="accomodation-card">
      <p class="gold bold">VIRGINIA PARK LODGE</p>
      <p class="gold">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Necessitatibus, consectetur amet voluptates.</p>
    </div>
    <div class="accomodation-card">
      <p class="gold bold">VIRGINIA PARK LODGE</p>
      <p class="gold">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Necessitatibus, consectetur amet voluptates.</p>
    </div>
    <div class="accomodation-card">
      <p class="gold bold">VIRGINIA PARK LODGE</p>
      <p class="gold">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Necessitatibus, consectetur amet voluptates.</p>
    </div>
  </div>
</div>
<div class="home-footer">
  <a href="#top" class="link">
    <div class="d-flex flex-column align-items-center justify-content-center">
      <%= image_tag "arrow-up.png", alt: "alttext", class: "up-arrow" %>
      <p class="m-0 link-text">BACK TO TOP</p>
    </div>
  </a>
  <span class="footer-attribution">Made with love by <a href="https://www.hoxton-digital.com/services" target="_blank">Hoxton Digital</a></span>
</div>

<script>
  window.addEventListener('turbolinks:load', (event) => {
    const navbar = document.querySelector('.sean-navbar')
    if (navbar) {
      window.addEventListener('scroll', (event) => {
        if (window.scrollY >= 5) {
          navbar.classList.add('inverted-navbar');
        } else {
          navbar.classList.remove('inverted-navbar');
        }
      })
      const marker = document.querySelector('.mapboxgl-marker');
      marker.firstElementChild.firstElementChild.children[1].style.fill = "#AF925D"
    }
    const burger = document.querySelector('.burger-menu')
    const dropdown = document.getElementById('dropdown')
    const closeBtn = document.getElementById('close-btn')
    if (burger) {
      burger.addEventListener('click', (event) => {
        dropdown.classList.toggle('d-none')
      })
      closeBtn.addEventListener('click', (event) => {
        dropdown.classList.toggle('d-none')
      })
    }
  });

  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();

      document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
      });
    });
  });
</script>
